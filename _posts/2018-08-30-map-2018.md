---
layout:     post
title:      "Hello 2018"
subtitle:   " \"Hello World, Hello Blog\""
date:       2018-08-25 12:00:00
author:     "Bz"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - java后端
    - 数据结构
---
Map特性介绍
> “  Map是一个将键映射到值的对象，在一个Map中不能包含重复的key,每个键最多只能映射一个值”
  
> “Map接口替代了Dictionary抽象类”

> “Map提供了三种集合视图:包含一组keys集合、一组value集合、一组键值对映射集合”
  
> “Map的排序来源于实现类返回的元素iterators，如TreeMap可以保证元素是有序的，而HashMap则是无序的”

    使用Map时需要特别注意的是，尽量保证key的值是不可变的。
    因为Map存储元素时候会计算key的哈希值，并根据这个哈希值把value插入到合适的位置，查找时再次计算key的哈希值到特定位置找到value。
    如果使用可变对象作为Map的key，在改变对象的值的时候，哈希值会发生改变，导致插入和查找计算出来的哈希值并不一样，造成数据丢失。
    如果一定要使用可变对象作为key，需要重写hashcode和equals方法，保证哈希值不变，另外value使用可变值是可行的。

# 深入源码-Map
public interface Map<K,V> {
-     int size();
-     boolean isEmpty();
-     boolean containsKey(Object key);
-     boolean containsValue(Object value);
-     V get(Object key);
-     V put(K key, V value);
-     V remove(Object key);
-     void putAll(Map<? extends K, ? extends V> m);
-     void clear();
-     Set<K> keySet();
-     Collection<V> values();
-     Set<Map.Entry<K, V>> entrySet();
-     boolean equals(Object o);
-     int hashCode();
-     default V getOrDefault(Object key, V defaultValue) 
-     default void forEach(BiConsumer<? super K, ? super V> action) 
-     default void replaceAll(BiFunction<? super K, ? super V, ? extends V> function) 
-     default V putIfAbsent(K key, V value) 
-     default boolean remove(Object key, Object value) 
-     default boolean replace(K key, V oldValue, V newValue) 
-     default V replace(K key, V value) 
-     default V computeIfAbsent(K key,Function<? super K, ? extends V> mappingFunction)
-     default V computeIfPresent(K key,BiFunction<? super K, ? super V, ? extends V> remappingFunction)
-     default V compute(K key,BiFunction<? super K, ? super V, ? extends V> remappingFunction)
-     default V merge(K key, V value,BiFunction<? super V, ? super V, ? extends V> remappingFunction)
}

其中 **==default==** 关键字是java8特性，修饰接口中的方法时，可以对其进行实现。